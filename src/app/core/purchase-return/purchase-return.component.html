<div class="page-wrapper">
    <div class="content">
        <!-- Page Header -->
        <div class="page-header">
            <div class="row">
                <div class="col-sm-12">
                    <ul class="breadcrumb">
                        <li class="breadcrumb-item">
                            <a [routerLink]="routes.allInvoice">Dashboard </a>
                        </li>
                        <li class="breadcrumb-item">
                            <i class="feather icon-chevron-right"></i>
                        </li>
                        <li class="breadcrumb-item active">Purchase return</li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- /Page Header -->
        <!-- Report Filter -->
        <div class="card invoices-tabs-card">
            <div class="card-body card-body pt-0 pb-0">
                <div class="invoices-main-tabs">
                    <div class="row align-items-center">
                        <div class="col-lg-8 col-md-8">
                            <div class="invoices-tabs">
                                <ul>
                                    <li>
                                        <a [routerLink]="routes.purchaseReturn" class="active">All Purchase Return</a>
                                    </li>
                                    <!-- <li><a [routerLink]="routes.paidPurchaseReturn">Paid</a></li>
                    <li><a [routerLink]="routes.unpaidPurchaseReturn">Unpaid</a></li> -->
                                </ul>
                         </div>
                        </div>
                        <div class="col-lg-4 col-md-4">
                            <div class="invoices-settings-btn">
                                <a [routerLink]="routes.addPurchaseReturn" class="btn">
                                    <i class="feather icon-plus-circle feather-circle me-2"></i>
                                    Purchase Return
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12">
                    <div class="card card-table">
                        <div class="card-body p-2">
                            <p-table [value]="purchaseReturnData" styleClass="p-datatable-striped"
                                [tableStyle]="{ 'min-width': '60rem' }" [paginator]="true" [rows]="5"
                                [rowsPerPageOptions]="[5, 10, 20]" [(selection)]="selectedPurchaseReturn">
                                <ng-template pTemplate="header">
                                    <tr>
                                        <th pSortableColumn="purchaseInvoiceNumber
                                        .purchaseInvoiceNumber">
                                            Purchase Invoice Number
                                            <p-sortIcon field="purchaseInvoiceNumber
                                            .purchaseInvoiceNumber"></p-sortIcon>
                                            <p-columnFilter type="text" field="purchaseInvoiceNumber
                                            .purchaseInvoiceNumber" display="menu"></p-columnFilter>
                                        </th>
                                        <th pSortableColumn="returnDate">
                                            Purchase return Date
                                            <p-sortIcon field="returnDate"></p-sortIcon>
                                            <p-columnFilter type="text" field="returnDate"
                                                display="menu"></p-columnFilter>
                                        </th>
                                        <th pSortableColumn="supplier.name">
                                            Supplier <p-sortIcon field="supplier.name"></p-sortIcon>
                                            <p-columnFilter type="text" field="supplier.name"
                                                display="menu"></p-columnFilter>
                                        </th>
                                        <th pSortableColumn="purchaseReturnOrderStatus">
                                            Status
                                            <p-sortIcon field="purchaseReturnOrderStatus"></p-sortIcon>
                                        </th>
                                        <th pSortableColumn="purchaseReturnTotalAmount">
                                            Total Amount
                                            <p-sortIcon field="purchaseReturnTotalAmount"></p-sortIcon>
                                            <p-columnFilter type="text" field="purchaseReturnTotalAmount"
                                                display="menu"></p-columnFilter>
                                        </th>
                                        <th pSortableColumn="salesTotalAmount">
                                            Gross Total
                                            <p-sortIcon field="salesTotalAmount"></p-sortIcon>
                                            <p-columnFilter type="text" field="salesTotalAmount"
                                                display="menu"></p-columnFilter>
                                        </th>
                                        <th pSortableColumn="paymentStatus">
                                            Payment Status
                                            <p-sortIcon field="paymentStatus"></p-sortIcon>
                                        </th>

                                        <th>Action</th>
                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="body" let-purchaseReturn>
                                    <tr>
                                        <td>
                                            {{
                                            purchaseReturn.purchaseInvoiceNumber
                                            }}
                                        </td>
                                        <td>{{ purchaseReturn.returnDate | date: 'dd-MMM-yyyy'}}</td>
                                        <td>{{ purchaseReturn.supplier.name }}</td>
                                        <td>{{ purchaseReturn.purchaseReturnOrderStatus }}</td>
                                        <!-- <td>{{ purchaseReturn.Status }}</td> -->

                                        <td>{{ purchaseReturn.purchaseReturnTotalAmount }}</td>
                                        <td>{{ purchaseReturn.purchaseGrossTotal }}</td>
                                        <td>{{ purchaseReturn.paymentStatus }}</td>

                                        <td>
                                            <p-button [text]="true" data-bs-toggle="modal"
                                                data-bs-target="#invoices_preview" icon="fa-solid fa-eye"
                                                (click)="showInvoiceDialoge(purchaseReturn._id)"></p-button>
                                            <!-- <p-button [text]="true" icon="fa-solid fa-edit"
                                                (click)="purchaseReturnUpdate(purchaseReturn._id)"></p-button> -->
                                            <p-button [text]="true" icon="fa-solid fa-trash"
                                                (click)="purchaseReturnDelete(purchaseReturn._id)"></p-button>
                                            <!-- <a class="p-2 border-1 border" href=""><i
                                                class="fa-solid fa-pen-to-square"></i></a> -->
                                            <!-- <a class="p-2 border-1 border" href=""><i class="fa-solid fa-trash"></i></a> -->
                                        </td>
                                    </tr>
                                </ng-template>
                            </p-table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <app-confirm-dialog [showDialog]="showDialoge" (callbackModal)="callBackModal()" (close)="close()"
        [data]="modalData"></app-confirm-dialog>
    <p-toast></p-toast>
    <!-- -- Preview model -- -->
    <app-invoice-dialog [showInvoiceDialog]="showInvoiceDialog" [salesDataById]="PurchaseReturnListData"
        (callbackModal)="callBackModal()" (close)="close()" [header]="header"></app-invoice-dialog>

    <!-- -- end preview model --  -->
</div>